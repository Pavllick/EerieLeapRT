<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>JSON Config Editor</title>
    <link rel="stylesheet" href="prism.css" />
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <header>
        <h1>Sensors JSON Configuration Editor</h1>
    </header>

    <div id="container">
        <div id="loader">
            <span>Loading config<span id="dots">...</span></span>
        </div>
        <div id="highlighting-wrapper">
            <textarea id="editor" spellcheck="false" oninput="update(this.value); syncScroll(this); adjustEditorHeight();" onscroll="syncScroll(this);" onkeydown="checkTab(this, event);"></textarea>
            <pre id="highlighting" aria-hidden="true"><code class="language-json" id="highlighting-content"></code></pre>
        </div>
    </div>

    <div id="helper-guide">
        <p>Usage guide</p>
    </div>

    <footer>
        <button onclick="saveConfig()">Save</button>
    </footer>

    <script>
        let dotCount = 0;
        setInterval(() => {
            const dots = document.getElementById("dots");
            dotCount = (dotCount + 1) % 4;
            dots.textContent = '.'.repeat(dotCount);
        }, 400);
    </script>

    <script src="prism.js" />
    <script src="editor.js" />
</body>

</html>
