# PSRAM config for ESP32-S3-DevKitC-1-N8R2 board with 2MB Quad SPI SPRAM
CONFIG_ESP_SPIRAM=y
CONFIG_SPIRAM_MODE_OCT=y
# SPIRAM (PSRAM) and SPI Flash are on the same bus,
# when SPIRAM is operating in Octal mode at 80MHz, due to the bug:
# https://github.com/zephyrproject-rtos/zephyr/issues/87938
# SPI Flash fails to initialize
CONFIG_SPIRAM_SPEED_40M=y
# 8MB
CONFIG_ESP_SPIRAM_SIZE=8388608
# 512KB
CONFIG_ESP_SPIRAM_HEAP_SIZE=524288

# Not working on stable version v4.1 due to the bug:
# https://github.com/zephyrproject-rtos/zephyr/pull/88073
# But works on main branch with patch.
CONFIG_SPIRAM_RODATA=y
CONFIG_SPIRAM_FETCH_INSTRUCTIONS=y

CONFIG_DISK_ACCESS=y
CONFIG_FS_LITTLEFS_BLK_DEV=y
CONFIG_FS_LITTLEFS_CACHE_SIZE=512
